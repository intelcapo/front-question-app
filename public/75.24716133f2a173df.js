"use strict";(self.webpackChunkquestion_app_ui=self.webpackChunkquestion_app_ui||[]).push([[75],{75:(Oe,Q,d)=>{d.r(Q),d.d(Q,{QuestionsModule:()=>Pe});var m=d(6814),T=d(4581),t=d(5879),h=d(7398),U=d(9947),C=d(9862);let $=(()=>{var r;class o{constructor(e){this.http=e,this.currentEndpoint=`${U.N.URL_API}/questions`}getAll(){return this.http.get(this.currentEndpoint)}getQuestionsByRoomId(e){return this.http.get(`${this.currentEndpoint}/${e}`).pipe((0,h.U)(s=>this.sortQuestionsByVotes(s)))}sortQuestionsByVotes(e){return e.sort((n,s)=>n.votes>s.votes?-1:1)}create(e){return this.http.post(this.currentEndpoint,e)}addVote(e,n){return this.http.put(`${this.currentEndpoint}/${e}/addVote`,n)}removeVote(e,n){return this.http.put(`${this.currentEndpoint}/${e}/removeVote`,n)}}return(r=o).\u0275fac=function(e){return new(e||r)(t.LFG(C.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),o})();var X=d(5422),H=d(412),G=d(9182),S=d(9397);let J=(()=>{var r;class o{constructor(e){this.http=e,this.votes=[],this.currentEndpoint=`${U.N.URL_API}/votes`}getVotesByRoomId(e){return this.http.get(`${this.currentEndpoint}/room/${e}`).pipe((0,h.U)(s=>this.formatVotes(s)),(0,S.b)(s=>this.setRoomVotes(s)))}formatVotes(e){return e.map(n=>({questionId:n.question.id,users:n.users}))}setRoomVotes(e){this.votes=e}updateVoteStatus(e,n){return e.forEach(s=>{s.isVoted=this.isVotedByUser(s.id,n)}),e}isVotedByUser(e,n){let s=!1,i=this.votes.find(c=>c.questionId==e);return console.log(i),i&&(s=!!i.users.find(l=>l.id==n.id)),s}addVote(e,n){let s=this.votes.findIndex(i=>i.questionId==e);-1!=s&&(this.getUserByVoteIndex(s,n)||this.votes[s].users.push(n))}removeVote(e,n){let s=this.votes.findIndex(i=>i.questionId==e);if(-1!=s&&!this.getUserByVoteIndex(s,n)){let c=this.getUserIndexByVote(s,n);this.votes[s].users.splice(c,1)}}getUserByVoteIndex(e,n){return this.votes[e].users.find(s=>s.id==n.id)}getUserIndexByVote(e,n){return this.votes[e].users.findIndex(s=>s.id==n.id)}getVotesByQuestionId(e){let n;return n=this.votes.find(s=>s.questionId==e),n}}return(r=o).\u0275fac=function(e){return new(e||r)(t.LFG(C.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),o})();var w=d(6385),u=d(6223),R=d(2296),M=d(9157),V=d(2032),g=d(3680),b=d(2495),I=d(2096),j=d(8504),W=d(9315),K=d(7394),ee=d(6306),te=d(4716),ne=d(3020),re=d(8180),N=d(6593);const se=["*"];let E;function y(r){return function ie(){if(void 0===E&&(E=null,typeof window<"u")){const r=window;void 0!==r.trustedTypes&&(E=r.trustedTypes.createPolicy("angular#components",{createHTML:o=>o}))}return E}()?.createHTML(r)||r}function P(r){return Error(`Unable to find icon with the name "${r}"`)}function O(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function L(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class f{constructor(o,a,e){this.url=o,this.svgText=a,this.options=e}}let x=(()=>{var r;class o{constructor(e,n,s,i){this._httpClient=e,this._sanitizer=n,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(e,n,s){return this.addSvgIconInNamespace("",e,n,s)}addSvgIconLiteral(e,n,s){return this.addSvgIconLiteralInNamespace("",e,n,s)}addSvgIconInNamespace(e,n,s,i){return this._addSvgIconConfig(e,n,new f(s,null,i))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,s,i){const c=this._sanitizer.sanitize(t.q3G.HTML,s);if(!c)throw L(s);const l=y(c);return this._addSvgIconConfig(e,n,new f("",l,i))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,s){return this._addSvgIconSetConfig(e,new f(n,null,s))}addSvgIconSetLiteralInNamespace(e,n,s){const i=this._sanitizer.sanitize(t.q3G.HTML,n);if(!i)throw L(n);const c=y(i);return this._addSvgIconSetConfig(e,new f("",c,s))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(t.q3G.RESOURCE_URL,e);if(!n)throw O(e);const s=this._cachedIconsByUrl.get(n);return s?(0,I.of)(F(s)):this._loadSvgIconFromConfig(new f(e,null)).pipe((0,S.b)(i=>this._cachedIconsByUrl.set(n,i)),(0,h.U)(i=>F(i)))}getNamedSvgIcon(e,n=""){const s=D(n,e);let i=this._svgIconConfigs.get(s);if(i)return this._getSvgFromConfig(i);if(i=this._getIconConfigFromResolvers(n,e),i)return this._svgIconConfigs.set(s,i),this._getSvgFromConfig(i);const c=this._iconSetConfigs.get(n);return c?this._getSvgFromIconSetConfigs(e,c):(0,j._)(P(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,I.of)(F(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,h.U)(n=>F(n)))}_getSvgFromIconSetConfigs(e,n){const s=this._extractIconWithNameFromAnySet(e,n);if(s)return(0,I.of)(s);const i=n.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe((0,ee.K)(l=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(t.q3G.RESOURCE_URL,c.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(v)),(0,I.of)(null)})));return(0,W.D)(i).pipe((0,h.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,n);if(!c)throw P(e);return c}))}_extractIconWithNameFromAnySet(e,n){for(let s=n.length-1;s>=0;s--){const i=n[s];if(i.svgText&&i.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(i),l=this._extractSvgIconFromSet(c,e,i.options);if(l)return l}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,S.b)(n=>e.svgText=n),(0,h.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,I.of)(null):this._fetchIcon(e).pipe((0,S.b)(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,s){const i=e.querySelector(`[id="${n}"]`);if(!i)return null;const c=i.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,s);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),s);const l=this._svgElementFromString(y("<svg></svg>"));return l.appendChild(c),this._setSvgAttributes(l,s)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const s=n.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const n=this._svgElementFromString(y("<svg></svg>")),s=e.attributes;for(let i=0;i<s.length;i++){const{name:c,value:l}=s[i];"id"!==c&&n.setAttribute(c,l)}for(let i=0;i<e.childNodes.length;i++)e.childNodes[i].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[i].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){const{url:n,options:s}=e,i=s?.withCredentials??!1;if(!this._httpClient)throw function oe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const c=this._sanitizer.sanitize(t.q3G.RESOURCE_URL,n);if(!c)throw O(n);const l=this._inProgressUrlFetches.get(c);if(l)return l;const _=this._httpClient.get(c,{responseType:"text",withCredentials:i}).pipe((0,h.U)(v=>y(v)),(0,te.x)(()=>this._inProgressUrlFetches.delete(c)),(0,ne.B)());return this._inProgressUrlFetches.set(c,_),_}_addSvgIconConfig(e,n,s){return this._svgIconConfigs.set(D(e,n),s),this}_addSvgIconSetConfig(e,n){const s=this._iconSetConfigs.get(e);return s?s.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let s=0;s<this._resolvers.length;s++){const i=this._resolvers[s](n,e);if(i)return ce(i)?new f(i.url,null,i.options):new f(i,null)}}}return(r=o).\u0275fac=function(e){return new(e||r)(t.LFG(C.eN,8),t.LFG(N.H7),t.LFG(m.K0,8),t.LFG(t.qLn))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),o})();function F(r){return r.cloneNode(!0)}function D(r,o){return r+":"+o}function ce(r){return!(!r.url||!r.options)}const le=(0,g.pj)(class{constructor(r){this._elementRef=r}}),de=new t.OlP("MAT_ICON_DEFAULT_OPTIONS"),me=new t.OlP("mat-icon-location",{providedIn:"root",factory:function ue(){const r=(0,t.f3M)(m.K0),o=r?r.location:null;return{getPathname:()=>o?o.pathname+o.search:""}}}),Z=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ge=Z.map(r=>`[${r}]`).join(", "),pe=/^url\(['"]?#(.*?)['"]?\)$/;let B=(()=>{var r;class o extends le{get inline(){return this._inline}set inline(e){this._inline=(0,b.Ig)(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(e,n,s,i,c,l){super(e),this._iconRegistry=n,this._location=i,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=K.w0.EMPTY,l&&(l.color&&(this.color=this.defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),s||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const s=e.childNodes[n];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>e.classList.remove(s)),n.forEach(s=>e.classList.add(s)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((s,i)=>{s.forEach(c=>{i.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(ge),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<n.length;i++)Z.forEach(c=>{const l=n[i],_=l.getAttribute(c),v=_?_.match(pe):null;if(v){let A=s.get(l);A||(A=[],s.set(l,A)),A.push({name:c,value:v[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,s]=this._splitIconName(e);n&&(this._svgNamespace=n),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,n).pipe((0,re.q)(1)).subscribe(i=>this._setSvgElement(i),i=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${s}! ${i.message}`))})}}}return(r=o).\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(x),t.$8M("aria-hidden"),t.Y36(me),t.Y36(t.qLn),t.Y36(de,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,n){2&e&&(t.uIk("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),t.ekj("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[t.qOj],ngContentSelectors:se,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),o})(),he=(()=>{var r;class o{}return(r=o).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[g.BQ,g.BQ]}),o})(),fe=(()=>{var r;class o{constructor(e){this.formBuilder=e,this.isFormInvalid=!0,this.frmQuestion=this.formBuilder.group({description:""}),this.createQuestion=new t.vpe,this.validateFrom()}validateFrom(){this.frmQuestion.get("description").valueChanges.subscribe({next:e=>{this.isFormInvalid=""==e.toString().trim()}})}onSubmit(){this.createQuestion.emit(this.frmQuestion.value),this.frmQuestion.reset(),this.isFormInvalid=!0}}return(r=o).\u0275fac=function(e){return new(e||r)(t.Y36(u.qu))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-questions-form"]],outputs:{createQuestion:"createQuestion"},decls:8,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"txt-question-description"],["matInput","","placeholder","Ex. Esa pregunta es para don ligero...","formControlName","description"],["type","submit","mat-fab","","color","primary",1,"btn-add-question",3,"disabled"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(1,"mat-form-field",1)(2,"mat-label"),t._uU(3,"Haz una pregunta"),t.qZA(),t._UZ(4,"textarea",2),t.qZA(),t.TgZ(5,"button",3)(6,"mat-icon"),t._uU(7,"add"),t.qZA()()()),2&e&&(t.Q6J("formGroup",n.frmQuestion),t.xp6(5),t.Q6J("disabled",n.isFormInvalid))},dependencies:[R.cs,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,M.KE,M.hX,V.Nt,B],styles:[".txt-question-description[_ngcontent-%COMP%]{width:100%}.btn-add-question[_ngcontent-%COMP%]{position:absolute;right:20px;margin-top:10px;z-index:10}"]}),o})();var p=d(5195);const _e=new t.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),be=(0,g.pj)(class{constructor(r){this._elementRef=r}},"primary");let Ie=(()=>{var r;class o extends be{constructor(e,n,s,i,c){super(e),this._ngZone=n,this._changeDetectorRef=s,this._animationMode=i,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new t.vpe,this._mode="determinate",this._transitionendHandler=l=>{0===this.animationEnd.observers.length||!l.target||!l.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===i,c&&(c.color&&(this.color=this.defaultColor=c.color),this.mode=c.mode||this.mode)}get value(){return this._value}set value(e){this._value=k((0,b.su)(e)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=k((0,b.su)(e)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}}return(r=o).\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(t.QbO,8),t.Y36(_e,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(e,n){2&e&&(t.uIk("aria-valuenow",n._isIndeterminate()?null:n.value)("mode",n.mode),t.ekj("_mat-animation-noopable",n._isNoopAnimation)("mdc-linear-progress--animation-ready",!n._isNoopAnimation)("mdc-linear-progress--indeterminate",n._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[t.qOj],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1)(2,"div",2),t.qZA(),t.TgZ(3,"div",3),t._UZ(4,"span",4),t.qZA(),t.TgZ(5,"div",5),t._UZ(6,"span",4),t.qZA()),2&e&&(t.xp6(1),t.Udp("flex-basis",n._getBufferBarFlexBasis()),t.xp6(2),t.Udp("transform",n._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill=''/%3E%3C/svg%3E\")}}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{--mdc-linear-progress-active-indicator-height:4px;--mdc-linear-progress-track-height:4px;--mdc-linear-progress-track-shape:0}.mat-mdc-progress-bar{display:block;text-align:left;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}[dir=rtl] .mat-mdc-progress-bar{text-align:right}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0}),o})();function k(r,o=0,a=100){return Math.max(o,Math.min(a,r))}let ye=(()=>{var r;class o{}return(r=o).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[g.BQ]}),o})();var q=d(5643);let Ce=0;const Se=(0,g.Id)(class{}),z="mat-badge-content";let Ee=(()=>{var r;class o extends Se{get color(){return this._color}set color(e){this._setColor(e),this._color=e}get overlap(){return this._overlap}set overlap(e){this._overlap=(0,b.Ig)(e)}get content(){return this._content}set content(e){this._updateRenderedContent(e)}get description(){return this._description}set description(e){this._updateDescription(e)}get hidden(){return this._hidden}set hidden(e){this._hidden=(0,b.Ig)(e)}constructor(e,n,s,i,c){super(),this._ngZone=e,this._elementRef=n,this._ariaDescriber=s,this._renderer=i,this._animationMode=c,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=Ce++,this._isInitialized=!1,this._interactivityChecker=(0,t.f3M)(q.ic),this._document=(0,t.f3M)(m.K0)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const e=this._renderer.createElement("span"),n="mat-badge-active";return e.setAttribute("id",`mat-badge-content-${this._id}`),e.setAttribute("aria-hidden","true"),e.classList.add(z),"NoopAnimations"===this._animationMode&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(n)})}):e.classList.add(n),e}_updateRenderedContent(e){const n=`${e??""}`.trim();this._isInitialized&&n&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=n),this._content=n}_updateDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!e||this._isHostInteractive())&&this._removeInlineDescription(),this._description=e,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,e):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(e){const n=this._elementRef.nativeElement.classList;n.remove(`mat-badge-${this._color}`),e&&n.add(`mat-badge-${e}`)}_clearExistingBadges(){const e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${z}`);for(const n of Array.from(e))n!==this._badgeElement&&n.remove()}}return(r=o).\u0275fac=function(e){return new(e||r)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(q.$s),t.Y36(t.Qsj),t.Y36(t.QbO,8))},r.\u0275dir=t.lG2({type:r,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(e,n){2&e&&t.ekj("mat-badge-overlap",n.overlap)("mat-badge-above",n.isAbove())("mat-badge-below",!n.isAbove())("mat-badge-before",!n.isAfter())("mat-badge-after",n.isAfter())("mat-badge-small","small"===n.size)("mat-badge-medium","medium"===n.size)("mat-badge-large","large"===n.size)("mat-badge-hidden",n.hidden||!n.content)("mat-badge-disabled",n.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[t.qOj]}),o})(),xe=(()=>{var r;class o{}return(r=o).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[q.rt,g.BQ,g.BQ]}),o})();function Fe(r,o){if(1&r){const a=t.EpF();t.TgZ(0,"div",6),t.NdJ("click",function(){t.CHM(a);const n=t.oxw();return t.KtG(n.onOpenUserPane())}),t._UZ(1,"mat-icon",7)(2,"span",8),t.qZA()}if(2&r){const a=t.oxw();t.xp6(2),t.Q6J("matBadge",null==a.question?null:a.question.votes)}}function Ae(r,o){if(1&r){const a=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(a);const n=t.oxw();return t.KtG(n.onRemoveVote(n.question))}),t.TgZ(1,"mat-icon"),t._uU(2,"favorite"),t.qZA()()}}function Te(r,o){if(1&r){const a=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(a);const n=t.oxw();return t.KtG(n.onAddVote(n.question))}),t.TgZ(1,"mat-icon"),t._uU(2,"favorite"),t.qZA()()}}let we=(()=>{var r;class o{get isVoted(){return this.question?.isVoted}constructor(){this.question={id:"",description:"",room:{id:"",name:"",creationDate:new Date},votes:0,creationDate:new Date,user:{id:"",name:""}},this.isAlreadyVoted=!1,this.addVote=new t.vpe,this.removeVote=new t.vpe,this.openUserPanel=new t.vpe}onAddVote(e){this.isAlreadyVoted=!0,this.addVote.emit(e)}onRemoveVote(e){this.isAlreadyVoted=!1,this.removeVote.emit(e)}onOpenUserPane(){this.openUserPanel.emit()}}return(r=o).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-questions-template"]],inputs:{question:"question"},outputs:{addVote:"addVote",removeVote:"removeVote",openUserPanel:"openUserPanel"},decls:16,vars:6,consts:[["mat-card-avatar","",1,"header-image"],["class","container-votes",3,"click",4,"ngIf"],[1,"question-description"],["mat-icon-button","","color","warn","class","btn-favorite",3,"click",4,"ngIf"],["mat-icon-button","","color","basic","class","btn-favorite",3,"click",4,"ngIf"],["mode","determinate","value","100"],[1,"container-votes",3,"click"],["aria-hidden","false","aria-label","Question's votes","fontIcon","thumb_up"],["matBadgeColor","warn",1,"badge-votes",3,"matBadge"],["mat-icon-button","","color","warn",1,"btn-favorite",3,"click"],["mat-icon-button","","color","basic",1,"btn-favorite",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card")(1,"mat-card-header"),t._UZ(2,"div",0),t.TgZ(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA(),t.YNc(7,Fe,3,1,"div",1),t.qZA(),t._UZ(8,"mat-divider"),t.TgZ(9,"mat-card-content")(10,"p",2),t._uU(11),t.qZA()(),t.TgZ(12,"mat-card-actions"),t.YNc(13,Ae,3,0,"button",3),t.YNc(14,Te,3,0,"button",4),t.qZA(),t._UZ(15,"mat-progress-bar",5),t.qZA()),2&e&&(t.xp6(4),t.Oqu((null==n.question||null==n.question.user?null:n.question.user.name)||"Anonimo"),t.xp6(2),t.Oqu((null==n.question||null==n.question.room?null:n.question.room.name)||"sala"),t.xp6(1),t.Q6J("ngIf",n.question.votes>1),t.xp6(4),t.Oqu((null==n.question?null:n.question.description)||"Algo para mostrar"),t.xp6(2),t.Q6J("ngIf",n.isVoted),t.xp6(1),t.Q6J("ngIf",!n.isVoted))},dependencies:[m.O5,w.d,p.a8,p.hq,p.kc,p.dn,p.dk,p.$j,p.n5,R.RK,B,Ie,Ee],styles:[".header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.question-description[_ngcontent-%COMP%]{padding-top:20px}.btn-favorite[_ngcontent-%COMP%]{position:absolute;right:10px}.badge-votes[_ngcontent-%COMP%]{position:relative;top:-5px;left:7px}.container-votes[_ngcontent-%COMP%]{position:absolute;right:30px}"]}),o})();function Re(r,o){if(1&r&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&r){const a=o.$implicit;t.xp6(1),t.hij(" ",a.name," ")}}let Me=(()=>{var r;class o{constructor(){this.question=null,this.userPanelClose=new t.vpe}closePanel(){this.userPanelClose.emit(!0)}}return(r=o).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-questions-users"]],inputs:{question:"question",votes:"votes"},outputs:{userPanelClose:"userPanelClose"},decls:11,vars:2,consts:[[1,"container-users"],[3,"click"],[1,"container-question-data"],[1,"container-users-data"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-icon",1),t.NdJ("click",function(){return n.closePanel()}),t._uU(2,"close"),t.qZA(),t.TgZ(3,"div",2)(4,"h3"),t._uU(5),t.qZA()(),t.TgZ(6,"div",3)(7,"h4"),t._uU(8,"Votos"),t.qZA(),t.TgZ(9,"ul"),t.YNc(10,Re,2,1,"li",4),t.qZA()()()),2&e&&(t.xp6(5),t.hij(" ",null==n.question?null:n.question.description," "),t.xp6(5),t.Q6J("ngForOf",null==n.votes?null:n.votes.users))},dependencies:[m.sg,B],styles:[".container-users[_ngcontent-%COMP%]{padding:10px;position:absolute;width:50%;height:100%;right:0;top:0;z-index:20;background-color:#fff;box-shadow:-9px 10px 5px #00000080}"]}),o})();function Be(r,o){if(1&r){const a=t.EpF();t.TgZ(0,"div")(1,"app-questions-template",8),t.NdJ("addVote",function(n){t.CHM(a);const s=t.oxw(2);return t.KtG(s.handleAddVote(n))})("removeVote",function(n){t.CHM(a);const s=t.oxw(2);return t.KtG(s.handleRemoveVote(n))})("openUserPanel",function(){const s=t.CHM(a).$implicit,i=t.oxw(2);return t.KtG(i.showUsersPanel(s))}),t.qZA()()}if(2&r){const a=o.$implicit;t.xp6(1),t.Q6J("question",a)}}function qe(r,o){if(1&r&&(t.TgZ(0,"div",6),t.YNc(1,Be,2,1,"div",7),t.qZA()),2&r){const a=t.oxw();t.xp6(1),t.Q6J("ngForOf",a.questions)}}function Qe(r,o){1&r&&(t.TgZ(0,"div")(1,"h3"),t._uU(2,"No hay preguntas aun en esta sala"),t.qZA()())}function Ue(r,o){if(1&r){const a=t.EpF();t.TgZ(0,"app-questions-users",9),t.NdJ("userPanelClose",function(){t.CHM(a);const n=t.oxw();return t.KtG(n.closeUsersPanel())}),t.qZA()}if(2&r){const a=t.oxw();t.Q6J("question",a.questionSelected)("votes",a.votesForQuestion)}}let Y=(()=>{var r;class o{constructor(e,n,s,i,c,l){this.questionsService=e,this.activatedRoute=n,this.roomsService=s,this.coreService=i,this.navigationService=c,this.votesService=l,this.questions=[],this.roomId="",this.currentRoom={id:"",name:"",user:{},creationDate:new Date},this.user=null,this.questionSelected=null,this.isUsersPanelActive=!1}ngOnInit(){this.validateUserLogged(),this.getUrlParams(),this.getCurrentRoom(this.roomId),this.getRoomQuestions(this.roomId),this.createIntervalToGetQuestions()}createIntervalToGetQuestions(){this.questionsInterval=setInterval(()=>{this.getRoomQuestions(this.roomId)},1e4)}ngOnDestroy(){clearInterval(this.questionsInterval)}validateUserLogged(){this.user=this.coreService.getUserLogged(),this.user||this.navigationService.navigateToUsers()}getCurrentRoom(e){this.roomsService.getById(e).subscribe({next:n=>{this.currentRoom=n}})}getUrlParams(){this.activatedRoute.params.subscribe({next:e=>{this.roomId=e.roomId}})}getRoomQuestions(e){this.questionsService.getQuestionsByRoomId(e).subscribe({next:n=>{this.questions=n,this.validateRoomVotes(this.questions)},error:()=>{this.questions=[]}})}validateRoomVotes(e){this.votesService.getVotesByRoomId(this.roomId).subscribe({next:()=>{this.questions=this.votesService.updateVoteStatus(e,this.user)}})}handleCreateQuestion(e){e={...e,roomId:this.roomId,user:this.user||{id:"1",name:"Anonimo"}},this.questionsService.create(e).subscribe({next:n=>{console.log("Question created")},error:()=>{this.questions=[]},complete:()=>{this.getRoomQuestions(this.roomId)}})}handleAddVote(e){this.questionsService.addVote(e.id,this.user).subscribe({next:()=>{this.votesService.addVote(e.id,this.user)},error:n=>{console.error(n.error)},complete:()=>{this.getRoomQuestions(this.roomId)}})}handleRemoveVote(e){this.questionsService.removeVote(e.id,this.user).subscribe({next:()=>{this.votesService.removeVote(e.id,this.user)},error:n=>{console.error(n.error)},complete:()=>{this.getRoomQuestions(this.roomId)}})}showUsersPanel(e){this.isUsersPanelActive=!0,this.questionSelected=e,this.votesForQuestion=this.votesService.getVotesByQuestionId(e.id)}closeUsersPanel(){this.isUsersPanelActive=!1,this.questionSelected=null,this.votesForQuestion=void 0}}return(r=o).\u0275fac=function(e){return new(e||r)(t.Y36($),t.Y36(T.gz),t.Y36(X.L),t.Y36(H.p),t.Y36(G.f),t.Y36(J))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-questions"]],decls:10,vars:4,consts:[[1,"container-content"],[1,"container-questions"],[3,"createQuestion"],["class","container-questions-list",4,"ngIf"],[4,"ngIf"],[3,"question","votes","userPanelClose",4,"ngIf"],[1,"container-questions-list"],[4,"ngFor","ngForOf"],[3,"question","addVote","removeVote","openUserPanel"],[3,"question","votes","userPanelClose"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),t._uU(4),t.qZA()(),t.TgZ(5,"app-questions-form",2),t.NdJ("createQuestion",function(i){return n.handleCreateQuestion(i)}),t.qZA(),t._UZ(6,"mat-divider"),t.YNc(7,qe,2,1,"div",3),t.YNc(8,Qe,3,0,"div",4),t.qZA()(),t.YNc(9,Ue,1,2,"app-questions-users",5)),2&e&&(t.xp6(4),t.Oqu(null==n.currentRoom?null:n.currentRoom.name),t.xp6(3),t.Q6J("ngIf",n.questions.length>0),t.xp6(1),t.Q6J("ngIf",0==n.questions.length),t.xp6(1),t.Q6J("ngIf",n.isUsersPanelActive))},dependencies:[m.sg,m.O5,w.d,fe,we,Me],styles:[".container-questions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}"]}),o})();const Ve=[{path:"",component:Y},{path:":roomId",component:Y}];let Ne=(()=>{var r;class o{}return(r=o).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[T.Bz.forChild(Ve),T.Bz]}),o})(),Pe=(()=>{var r;class o{}return(r=o).\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[m.ez,Ne,w.t,p.QW,R.ot,u.UX,M.lN,V.c,he,ye,xe]}),o})()}}]);