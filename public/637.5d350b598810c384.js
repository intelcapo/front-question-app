"use strict";(self.webpackChunkquestion_app_ui=self.webpackChunkquestion_app_ui||[]).push([[637],{3637:(b,p,s)=>{s.r(p),s.d(p,{RoomsModule:()=>M});var l=s(6814),c=s(4581),o=s(5879),d=s(5422),R=s(412),Z=s(9182),f=s(6385),u=s(5195);let C=(()=>{var e;class r{constructor(){this.room={id:"",name:"",creationDate:new Date,user:{id:"",name:""}}}get roomLink(){return`/questions/${this.room?.id||"1"}`}}return(e=r).\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-rooms-template"]],inputs:{room:"room"},decls:21,vars:11,consts:[[3,"routerLink"]],template:function(t,n){1&t&&(o.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"p")(3,"span"),o._uU(4,"Nombre:"),o.TgZ(5,"strong"),o._uU(6),o.qZA()(),o._UZ(7,"br"),o.TgZ(8,"span"),o._uU(9,"Creada por: "),o.TgZ(10,"strong"),o._uU(11),o.qZA()(),o._UZ(12,"br"),o.TgZ(13,"span"),o._uU(14),o.ALo(15,"date"),o.qZA(),o._UZ(16,"br"),o.TgZ(17,"span"),o._uU(18),o.ALo(19,"date"),o.qZA(),o._UZ(20,"br"),o.qZA()()()),2&t&&(o.Q6J("routerLink","/questions/"+(null==n.room?null:n.room.id)),o.xp6(6),o.hij(" ",null==n.room?null:n.room.name,""),o.xp6(5),o.Oqu((null==n.room||null==n.room.user?null:n.room.user.name)||"Anonimo"),o.xp6(3),o.hij("Fecha de creacion: ",o.xi3(15,5,null==n.room?null:n.room.creationDate,"dd/MM/yyyy"),""),o.xp6(4),o.hij("Hora de creacion: ",o.xi3(19,8,null==n.room?null:n.room.creationDate,"hh:mm"),""))},dependencies:[c.rH,u.a8,u.dn,l.uU]}),r})();var i=s(6223),g=s(2032),v=s(9157),h=s(2296);let T=(()=>{var e;class r{constructor(t){this.formBuilder=t,this.frmRoom=this.formBuilder.group({name:""}),this.isFormInvalid=!0,this.createRoom=new o.vpe,this.validateForm()}validateForm(){return this.frmRoom.get("name")?.valueChanges.subscribe(t=>{this.isFormInvalid=""==t.trim()})}onSubmit(){this.createRoom.emit(this.frmRoom.value),this.resetForm()}resetForm(){this.frmRoom.reset(),this.isFormInvalid=!0}}return(e=r).\u0275fac=function(t){return new(t||e)(o.Y36(i.qu))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-rooms-form"]],outputs:{createRoom:"createRoom"},decls:7,vars:2,consts:[[1,"frm-room",3,"formGroup","ngSubmit"],[1,"example-form-field"],["matInput","","type","text","formControlName","name"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(t,n){1&t&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return n.onSubmit()}),o.TgZ(1,"mat-form-field",1)(2,"mat-label"),o._uU(3,"Nombre de la sala"),o.qZA(),o._UZ(4,"input",2),o.qZA(),o.TgZ(5,"button",3),o._uU(6," Crear sala "),o.qZA()()),2&t&&(o.Q6J("formGroup",n.frmRoom),o.xp6(5),o.Q6J("disabled",n.isFormInvalid))},dependencies:[g.Nt,v.KE,v.hX,h.lW,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".frm-room[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),r})();function F(e,r){if(1&e&&(o.TgZ(0,"div"),o._UZ(1,"app-rooms-template",5)(2,"mat-divider"),o.qZA()),2&e){const m=r.$implicit;o.xp6(1),o.Q6J("room",m)}}function U(e,r){if(1&e&&(o.TgZ(0,"div"),o.YNc(1,F,3,1,"div",4),o.qZA()),2&e){const m=o.oxw();o.xp6(1),o.Q6J("ngForOf",m.rooms)}}const y=[{path:"",component:(()=>{var e;class r{constructor(t,n,a){this.roomsService=t,this.coreService=n,this.navigationService=a,this.rooms=[],this.user=null}ngOnInit(){this.validateUserLogged(),this.getRoomList()}validateUserLogged(){this.user=this.coreService.getUserLogged(),this.user||this.navigationService.navigateToUsers()}getRoomList(){this.roomsService.getAllRooms().subscribe({next:t=>{console.log(t.length),this.rooms=t},error:()=>{this.rooms=[]}})}handleCreateRoom(t){let n={...t,user:this.user||{id:"1",name:"Anonimo"}};this.roomsService.create(n).subscribe({next:a=>{console.log(a)},error:a=>{console.error(a)},complete:()=>{this.getRoomList()}})}}return(e=r).\u0275fac=function(t){return new(t||e)(o.Y36(d.L),o.Y36(R.p),o.Y36(Z.f))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-rooms"]],decls:8,vars:1,consts:[[1,"container-content"],[1,"container-rooms"],[3,"createRoom"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"container-rooms-content",3,"room"]],template:function(t,n){1&t&&(o.TgZ(0,"div",0)(1,"h1"),o._uU(2,"Salas disponibles"),o.qZA(),o.TgZ(3,"div",1)(4,"div")(5,"app-rooms-form",2),o.NdJ("createRoom",function(S){return n.handleCreateRoom(S)}),o.qZA()(),o._UZ(6,"mat-divider"),o.YNc(7,U,2,1,"div",3),o.qZA()()),2&t&&(o.xp6(7),o.Q6J("ngIf",n.rooms.length>0))},dependencies:[l.sg,l.O5,f.d,C,T],styles:[".container-content[_ngcontent-%COMP%]   .container-rooms[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.container-content[_ngcontent-%COMP%]   .container-rooms[_ngcontent-%COMP%]   .container-rooms-content[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer}"]}),r})()}];let A=(()=>{var e;class r{}return(e=r).\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[c.Bz.forChild(y),c.Bz]}),r})(),M=(()=>{var e;class r{}return(e=r).\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[d.L],imports:[l.ez,A,u.QW,f.t,g.c,h.ot,i.UX]}),r})()}}]);